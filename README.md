# add_paths

`add_paths` は、指定されたファイルから読み取ったディレクトリパスを一時的に `Path` 環境変数に追加し、その状態で指定されたシェルやコマンドを実行できるツールです。

このプログラムを使用することで、環境変数を直接変更することなく、柔軟にカスタム環境を構築できます。特定のツールチェーンやプログラムの実行に便利です。

---

## 基本的な機能

1. **`paths.txt` から有効なディレクトリパスを読み取る**
   - ファイル内で、コメント行や空白行は自動的にスキップされます。
   - `;`（セミコロン）で終わる形式のディレクトリパスを読み取ります。

2. **現在の `Path` 環境変数に追加**
   - 現在のシステム環境の `Path` に対して、読み取ったパスを一時的に追加します。

3. **指定されたコマンドやシェルを新しい環境で実行**
   - 新しい `Path` を適用した状態で、任意のコマンドやシェルを実行します。

4. **元の環境に影響を与えない**
   - プログラム実行後、`Path` 環境変数は元に戻ります。

---

## 使い方

### 1. ファイル形式
パス情報は以下のように、テキストファイル形式で保存します。  
以下は `paths.txt` ファイルの例です。

```plaintext
// paths.txt
// コメントも単数なら可能
// 追加したいPATHを ディレクトリ名+セミコロンのフォーマットでそれぞれ改行で指定できます。

C:/Users/hogehoge/test/;
C:/Users/hogehoge/test2/;
C:/Users/hogehoge/test3/;
C:/Users/hogehoge/test4/;

// コメント行: // で始まる行は無視されます。
// 空白行: 無視されます。
// ディレクトリパス: 各行に追加したいディレクトリパスを記述します。最後に必ず ; を付けます。
```

--- 

## コマンドライン形式
基本的に以下の形式で実行することができます。

```bash
add_paths.exe <env_file> <shell> [command...]
```
### 引数の説明

1. ** <`env_file`>: 環境変数指定のファイルパス (例: `paths.txt`)
2. ** <`shell`>: 実行したシェルの実行可能ファイル (例: `cmd,powershell,bash`)
3. ** [`command...`]: 実行したいコマンド,およびシェルに渡す引数 (例: `"/C echo %PATH%"`)


